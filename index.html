<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>–ü–æ–≥–æ–¥–∞ –≤ –Ø—Ä–æ–º–∏—Ä—Ü—ñ —Ç–∞ –ó–∞–≤–∞–¥–∏–Ω—Ü—è—Ö ‚Äî –°–≤—ñ–∂–∏–π –ø—Ä–æ–≥–Ω–æ–∑</title>
    <meta name="description"
        content="–ê–∫—Ç—É–∞–ª—å–Ω–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥–∏ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ —ñ –Ω–∞ 3 –¥–Ω—ñ –¥–ª—è —Å—ñ–ª –Ø—Ä–æ–º–∏—Ä–∫–∞ —Ç–∞ –ó–∞–≤–∞–¥–∏–Ω—Ü—ñ. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –æ–ø–∞–¥–∏, –≤—ñ—Ç–µ—Ä, —Ö–º–∞—Ä–Ω—ñ—Å—Ç—å, –≤–∏–¥–∏–º—ñ—Å—Ç—å. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –≥–æ—Ä–æ–¥–∏–Ω—ñ." />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://pohoda-v-yaromyrtsi-ta-zavadyntsyakh.netlify.app/" />
    <meta property="og:title" content="–ü–æ–≥–æ–¥–∞ –≤ –Ø—Ä–æ–º–∏—Ä—Ü—ñ —Ç–∞ –ó–∞–≤–∞–¥–∏–Ω—Ü—è—Ö ‚Äî –°–≤—ñ–∂–∏–π –ø—Ä–æ–≥–Ω–æ–∑" />
    <meta property="og:description"
        content="–ê–∫—Ç—É–∞–ª—å–Ω–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥–∏ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ —ñ –Ω–∞ 3 –¥–Ω—ñ –¥–ª—è —Å—ñ–ª –Ø—Ä–æ–º–∏—Ä–∫–∞ —Ç–∞ –ó–∞–≤–∞–¥–∏–Ω—Ü—ñ. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –æ–ø–∞–¥–∏, –≤—ñ—Ç–µ—Ä, —Ö–º–∞—Ä–Ω—ñ—Å—Ç—å, –≤–∏–¥–∏–º—ñ—Å—Ç—å. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –≥–æ—Ä–æ–¥–∏–Ω—ñ." />
    <meta property="og:image" content="https://pohoda-v-yaromyrtsi-ta-zavadyntsyakh.netlify.app/pogoda.jpg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://pohoda-v-yaromyrtsi-ta-zavadyntsyakh.netlify.app/" />
    <meta name="twitter:title" content="–ü–æ–≥–æ–¥–∞ –≤ –Ø—Ä–æ–º–∏—Ä—Ü—ñ —Ç–∞ –ó–∞–≤–∞–¥–∏–Ω—Ü—è—Ö ‚Äî –°–≤—ñ–∂–∏–π –ø—Ä–æ–≥–Ω–æ–∑" />
    <meta name="twitter:description"
        content="–ê–∫—Ç—É–∞–ª—å–Ω–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥–∏ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ —ñ –Ω–∞ 3 –¥–Ω—ñ –¥–ª—è —Å—ñ–ª –Ø—Ä–æ–º–∏—Ä–∫–∞ —Ç–∞ –ó–∞–≤–∞–¥–∏–Ω—Ü—ñ. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –æ–ø–∞–¥–∏, –≤—ñ—Ç–µ—Ä, —Ö–º–∞—Ä–Ω—ñ—Å—Ç—å, –≤–∏–¥–∏–º—ñ—Å—Ç—å. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –≥–æ—Ä–æ–¥–∏–Ω—ñ." />
    <meta name="twitter:image" content="https://pohoda-v-yaromyrtsi-ta-zavadyntsyakh.netlify.app/pogoda.jpg" />

    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#2196f3" />
    <link rel="icon" type="image/png" href="icon-192.png" />

    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
            background: #eef2f3;
            margin: 0;
            text-align: center;
        }

        h1 {
            color: #333;
            text-align: center;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            padding: 10px 20px;
            margin: 10px 5px;
            background: #2196f3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 200px;
            display: inline-block;
            text-align: center;
            transition: 0.2s;
        }

        .btn:hover {
            background: #05572e;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–≥–æ–¥–∏ */
        .weather-box {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            word-wrap: break-word;
        }

        /* –Ü–∫–æ–Ω–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑—É */
        .icon {
            width: 50px;
            height: 50px;
            vertical-align: middle;
        }

        /* –î–µ–Ω—å –ø—Ä–æ–≥–Ω–æ–∑—É */
        .forecast-day {
            border-top: 1px solid #ccc;
            padding-top: 10px;
            margin-top: 10px;
        }

        /* –§–æ—Ç–æ —Å–µ–ª–∞ */
        .village-photo {
            display: block;
            margin: 10px auto 15px auto;
            width: 100%;
            max-width: 300px;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
        }

        /* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó */
        .recommendations {
            margin-top: 20px;
            background: #d9f0d9;
            border-left: 6px solid #4caf50;
            padding: 15px;
            border-radius: 6px;
            font-size: 0.95rem;
            line-height: 1.4;
            color: #2e5d2e;
        }

        /* –§–æ—Ç–æ –¥–ª—è –æ–∫—Ä–µ–º–æ–≥–æ –±–ª–æ–∫—É –ø–æ–≥–æ–¥–∏ (.responsive-photo) */
        .responsive-photo {
            width: auto;
            max-width: 500px;
            height: auto;
            border-radius: 8px;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö */
        @media (max-width: 420px) {
            body {
                padding: 10px;
                background: #f0e6f6;
                /* —ñ–Ω—à–∏–π —Ñ–æ–Ω */
                text-align: left;
                /* –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –ø–æ –ª—ñ–≤–æ–º—É –∫—Ä–∞—é */
            }

            h1 {
                font-size: 1.5rem;
                color: #4b0082;
                /* —ñ–Ω—à–∏–π –∫–æ–ª—ñ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            }

            .btn {
                padding: 12px;
                font-size: 1rem;
                width: 100%;
                margin: 10px 0;
                background: #029e50;
                /* —ñ–Ω—à–∏–π –∫–æ–ª—ñ—Ä –∫–Ω–æ–ø–∫–∏ */
                color: black;
                /* –∫–æ–ª—ñ—Ä —Ç–µ–∫—Å—Ç—É */
            }

            .icon {
                width: 60px;
                height: 60px;
            }

            .village-photo {
                max-width: 80%;
                border-radius: 12px;
                box-shadow: 0 0 12px rgba(0, 0, 0, 0.2);
            }

            .responsive-photo {
                width: 100%;
                max-width: 100%;
            }

            .weather-box {
                padding: 15px;
                background: #fff0f5;
                /* —ñ–Ω—à–∏–π —Ñ–æ–Ω */
                box-shadow: 0 0 12px rgba(0, 0, 0, 0.2);
            }

            .forecast-day {
                font-size: 1rem;
                border-top: 2px solid #a29bfe;
                /* —ñ–Ω—à–∞ —Ä–∞–º–∫–∞ */
                padding-top: 12px;
            }

            .recommendations {
                background: #fff4e6;
                border-left: 6px solid #ff9800;
                font-size: 1rem;
                line-height: 1.5;
                color: #bf360c;
            }
        }
    </style>

</head>

<body>
    <h1>üå§Ô∏è –ü–æ–≥–æ–¥–∞ —Å—å–æ–≥–æ–¥–Ω—ñ</h1>

    <div style="text-align:center; margin: 20px 0;">
        <img src="pogoda.jpg" alt="–ü–æ–≥–æ–¥–∞" class="responsive-photo" />
    </div>

    <button class="btn" onclick="toggleWeather(49.7999, 24.0169, 'weatherYaromyrka', '–Ø—Ä–æ–º–∏—Ä–∫–∞')">–ü–æ–≥–æ–¥–∞ –≤
        –Ø—Ä–æ–º–∏—Ä—Ü—ñ</button>
    <button class="btn" onclick="toggleWeather(49.8299, 24.0202, 'weatherZavadyntsi', '–ó–∞–≤–∞–¥–∏–Ω—Ü—ñ')">–ü–æ–≥–æ–¥–∞ –≤
        –ó–∞–≤–∞–¥–∏–Ω—Ü—è—Ö</button>

    <div id="weatherYaromyrka" class="weather-box">
        <img src="jaromirka.jpg" alt="–Ø—Ä–æ–º–∏—Ä–∫–∞" class="village-photo" />
    </div>

    <div id="weatherZavadyntsi" class="weather-box">
        <img src="zavadyntsi.jpg" alt="–ó–∞–≤–∞–¥–∏–Ω—Ü—ñ" class="village-photo" />
    </div>

    <script>
        const API_KEY = "0e79c6751c05bd3d4a8a2c48a9d5172b";
        const weatherCache = {};

        function getRecommendations(description, minTemp, maxTemp, hasGreenhouse = false) {
            const lowerDesc = description.toLowerCase();
            const month = new Date().getMonth();
            let tips = [];

            // --- –ó–∞–≥–∞–ª—å–Ω—ñ –ø–æ–≥–æ–¥–Ω—ñ —É–º–æ–≤–∏ ---
            if (lowerDesc.includes("–¥–æ—â")) {
                tips.push("üíß –û–ø–∞–¥–∏ ‚Äî –Ω–∞–∫—Ä–∏–π—Ç–µ –æ–≤–æ—á—ñ, –∑–µ–ª–µ–Ω—å —Ç–∞ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∑–∞–≥–Ω–∏–≤–∞–Ω–Ω—è.");
            }
            if (maxTemp < 5) {
                tips.push("‚ùÑÔ∏è –î—É–∂–µ —Ö–æ–ª–æ–¥–Ω–æ ‚Äî —É –≤—ñ–¥–∫—Ä–∏—Ç–æ–º—É “ë—Ä—É–Ω—Ç—ñ –ø–æ—Å–∞–¥–∫–∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—å—Å—è.");
            }
            if (maxTemp > 30) {
                tips.push("üî• –°–ø–µ–∫–∞ ‚Äî –ø–æ–ª–∏–≤–∞—Ç–∏ –æ–≤–æ—á—ñ —Ç–∞ –∑–µ–ª–µ–Ω—å —Ä–∞–Ω–æ –≤—Ä–∞–Ω—Ü—ñ –∞–±–æ –ø—ñ–∑–Ω–æ –≤–≤–µ—á–µ—Ä—ñ, –∑–∞–º—É–ª—å—á—É–≤–∞—Ç–∏ “ë—Ä—É–Ω—Ç.");
            }

            // --- –ó–∏–º–∞ (–≥—Ä—É–¥–µ–Ω—å-–ª—é—Ç–∏–π) ---
            if (month === 11 || month <= 1) {
                tips.push("üå≥ –°–∞–¥: –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —É–∫—Ä–∏—Ç—Ç—è –º–æ–ª–æ–¥–∏—Ö –¥–µ—Ä–µ–≤, –æ–±—Ä—ñ–∑–∫–∞ —Å—É—Ö–∏—Ö –≥—ñ–ª–æ–∫, –æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥ –≥—Ä–∏–∑—É–Ω—ñ–≤, –∑–∞—Ö–∏—Å—Ç —à—Ç–∞–º–±—ñ–≤ –≤—ñ–¥ —Å–æ–Ω—è—á–Ω–∏—Ö –æ–ø—ñ–∫—ñ–≤.");
                tips.push("üè° –ü–æ–¥–≤—ñ—Ä‚Äô—è: –ø—Ä–∏–±—Ä–∞—Ç–∏ —Å–Ω—ñ–≥ –∑ –¥–æ—Ä—ñ–∂–æ–∫, –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–æ–¥–æ—Å—Ç–æ–∫–∏ —Ç–∞ –¥–∞—Ö, —É—Ç–µ–ø–ª–∏—Ç–∏ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó.");
                tips.push("üå± –ì–æ—Ä–æ–¥: –≤—ñ–¥–∫—Ä–∏—Ç–∏–π “ë—Ä—É–Ω—Ç –∑–∞–∑–≤–∏—á–∞–π –Ω–µ –æ–±—Ä–æ–±–ª—è—é—Ç—å; –º–æ–∂–Ω–∞ –ø–ª–∞–Ω—É–≤–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Å–µ–∑–æ–Ω, –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –¥–æ–±—Ä–∏–≤–∞ —Ç–∞ –Ω–∞—Å—ñ–Ω–Ω—è.");
                if (hasGreenhouse) {
                    if (maxTemp > 15) {
                        tips.push("üå± –¢–µ–ø–ª–∏—Ü—è –∑ –æ–ø–∞–ª–µ–Ω–Ω—è–º: –≤–∏—Å—ñ–≤–∞—Ç–∏ –æ–≥—ñ—Ä–∫–∏, –ø–æ–º—ñ–¥–æ—Ä–∏, –ø–µ—Ä–µ—Ü—å, –±–∞–∫–ª–∞–∂–∞–Ω–∏; –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –≤–æ–ª–æ–≥—ñ—Å—Ç—å, –¥–æ—Å–≤—ñ—Ç–∫—É —Ç–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.");
                    } else if (maxTemp > 8 && maxTemp <= 15) {
                        tips.push("üå± –¢–µ–ø–ª–∏—Ü—è –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º –æ–ø–∞–ª–µ–Ω–Ω—è–º: –ø–µ–∫—ñ–Ω—Å—å–∫–∞ –∫–∞–ø—É—Å—Ç–∞, —à–ø–∏–Ω–∞—Ç, –ø–∞–∫-—á–æ–π, –ø–µ—Ç—Ä—É—à–∫–∞; –º—É–ª—å—á—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø—Ä–æ—Ç—è–≥—ñ–≤.");
                    } else if (maxTemp > 0 && maxTemp <= 8) {
                        tips.push("üå± –ù–µ–æ–ø–∞–ª—é–≤–∞–Ω–∞ —Ç–µ–ø–ª–∏—Ü—è: —Ä–µ–¥–∏—Å–∫–∞, —Å–∞–ª–∞—Ç–∏, —Ü–∏–±—É–ª—è –Ω–∞ –ø–µ—Ä–æ, —à–ø–∏–Ω–∞—Ç; —É–∫—Ä–∏—Ç—Ç—è –Ω–µ—Ç–∫–∞–Ω–∏–º –º–∞—Ç–µ—Ä—ñ–∞–ª–æ–º.");
                    } else {
                        tips.push("üå± –î—É–∂–µ —Ö–æ–ª–æ–¥–Ω–æ –Ω–∞–≤—ñ—Ç—å —É —Ç–µ–ø–ª–∏—Ü—ñ ‚Äî –ø–æ—Å–∞–¥–∫–∏ –∫—Ä–∞—â–µ –Ω–µ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏, –¥–æ–¥–∞—Ç–∫–æ–≤–µ —É—Ç–µ–ø–ª–µ–Ω–Ω—è.");
                    }
                }
            }

            // --- –í–µ—Å–Ω–∞ (–±–µ—Ä–µ–∑–µ–Ω—å-—Ç—Ä–∞–≤–µ–Ω—å) ---
            if (month >= 2 && month <= 4) {
                tips.push("üå± –ì–æ—Ä–æ–¥: —Å–∞–¥–∏—Ç–∏ –∫–∞—Ä—Ç–æ–ø–ª—é, –º–æ—Ä–∫–≤—É, —Ü–∏–±—É–ª—é, –±—É—Ä—è–∫; –ø—ñ–¥–∂–∏–≤–ª—é–≤–∞—Ç–∏ —Ä–æ–∑—Å–∞–¥—É, –ø—Ä–æ—Ä—ñ–¥–∂—É–≤–∞—Ç–∏ –ø–æ—Å—ñ–≤–∏.");
                tips.push("üå± –¢–µ–ø–ª–∏—Ü—è: –≤–∏—Å—ñ–≤–∞—Ç–∏ –ø–æ–º—ñ–¥–æ—Ä–∏, –ø–µ—Ä–µ—Ü—å, –æ–≥—ñ—Ä–∫–∏ –Ω–∞ —Ä–æ–∑—Å–∞–¥—É; –ø—Ä–æ—Ä—ñ–¥–∂—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—ñ–¥–∂–∏–≤–ª–µ–Ω–Ω—è –º–æ–ª–æ–¥–æ—ó –∑–µ–ª–µ–Ω—ñ; –ø—Ä–æ–≤—ñ—Ç—Ä—é–≤–∞–Ω–Ω—è –ø—Ä–∏ —Å–æ–Ω—è—á–Ω—ñ–π –ø–æ–≥–æ–¥—ñ.");
                tips.push("üå≥ –°–∞–¥: –≤–µ—Å–Ω—è–Ω–∞ –æ–±—Ä—ñ–∑–∫–∞ –ø–ª–æ–¥–æ–≤–∏—Ö –¥–µ—Ä–µ–≤, –æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥ —à–∫—ñ–¥–Ω–∏–∫—ñ–≤, –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–µ—Ä–µ–≤ –¥–æ —Ü–≤—ñ—Ç—ñ–Ω–Ω—è, –º—É–ª—å—á—É–≤–∞–Ω–Ω—è –ø—Ä–∏–∫–æ—Ä–µ–Ω–µ–≤–æ—ó –∑–æ–Ω–∏.");
                tips.push("üè° –ü–æ–¥–≤—ñ—Ä‚Äô—è: –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è —Å—É—Ö–æ–≥–æ –ª–∏—Å—Ç—è —Ç–∞ —Å–º—ñ—Ç—Ç—è, –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –≥—Ä—è–¥–æ–∫, —Ä–æ–∑–ø—É—à—É–≤–∞–Ω–Ω—è “ë—Ä—É–Ω—Ç—É, –ø—ñ–¥–∂–∏–≤–ª–µ–Ω–Ω—è –¥–æ–±—Ä–∏–≤–∞–º–∏.");
            }

            // --- –õ—ñ—Ç–æ (—á–µ—Ä–≤–µ–Ω—å-—Å–µ—Ä–ø–µ–Ω—å) ---
            if (month >= 5 && month <= 7) {
                tips.push("üå± –ì–æ—Ä–æ–¥: –ø—Ä–æ–ø–æ–ª—é–≤–∞–Ω–Ω—è, —Ä–µ–≥—É–ª—è—Ä–Ω–∏–π –ø–æ–ª–∏–≤ –æ–≤–æ—á—ñ–≤ —Ç–∞ –∑–µ–ª–µ–Ω—ñ, –ø—ñ–¥–∂–∏–≤–ª–µ–Ω–Ω—è, –∑–±—ñ—Ä —Ä–∞–Ω–Ω—ñ—Ö –æ–≤–æ—á—ñ–≤ (–æ–≥—ñ—Ä–∫–∏, —Ä–µ–¥–∏—Å, —Å–∞–ª–∞—Ç–∏).");
                tips.push("üå± –¢–µ–ø–ª–∏—Ü—è: –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —ñ –ø—Ä–æ–≤—ñ—Ç—Ä—é–≤–∞–Ω–Ω—è, —Å–≤–æ—î—á–∞—Å–Ω–æ –ø–æ–ª–∏–≤–∞—Ç–∏ —Ç–∞ –ø—ñ–¥–∂–∏–≤–ª—é–≤–∞—Ç–∏ –æ–≤–æ—á—ñ —Ç–∞ –∑–µ–ª–µ–Ω—å, –∑–±–∏—Ä–∞—Ç–∏ —É—Ä–æ–∂–∞–π –ø–æ –º—ñ—Ä—ñ –¥–æ–∑—Ä—ñ–≤–∞–Ω–Ω—è.");
                tips.push("üå≥ –°–∞–¥: –∑–±—ñ—Ä —è–≥—ñ–¥ —Ç–∞ —Ñ—Ä—É–∫—Ç—ñ–≤, –ø–æ–ª–∏–≤ –ø–ª–æ–¥–æ–≤–∏—Ö –¥–µ—Ä–µ–≤, –ø—ñ–¥–∂–∏–≤–ª–µ–Ω–Ω—è, –ø—Ä–æ—Ñ—ñ–ª–∞–∫—Ç–∏–∫–∞ —Ö–≤–æ—Ä–æ–± —Ç–∞ —à–∫—ñ–¥–Ω–∏–∫—ñ–≤, –æ–±—Ä—ñ–∑–∫–∞ —Å–ª–∞–±–∫–∏—Ö –≥—ñ–ª–æ–∫.");
                tips.push("üè° –ü–æ–¥–≤—ñ—Ä‚Äô—è: –ø–æ–ª–∏–≤ –≥—Ä—è–¥–æ–∫, –¥–æ–≥–ª—è–¥ –∑–∞ –≥–∞–∑–æ–Ω–æ–º, –±–æ—Ä–æ—Ç—å–±–∞ –∑ –±—É—Ä‚Äô—è–Ω–∞–º–∏, –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —á–∏—Å—Ç–æ—Ç–∏ –Ω–∞ –¥–æ—Ä—ñ–∂–∫–∞—Ö —Ç–∞ –±—ñ–ª—è –±—É–¥—ñ–≤–µ–ª—å.");
            }

            // --- –û—Å—ñ–Ω—å (–≤–µ—Ä–µ—Å–µ–Ω—å-–ª–∏—Å—Ç–æ–ø–∞–¥) ---
            if (month >= 8 && month <= 10) {
                tips.push("üå± –ì–æ—Ä–æ–¥: –∑–±–∏—Ä–∞—Ç–∏ –≤—Ä–æ–∂–∞–π –∫–∞—Ä—Ç–æ–ø–ª—ñ, –±—É—Ä—è–∫–∞, –º–æ—Ä–∫–≤–∏; –≤–∏—Å—ñ–≤–∞—Ç–∏ –æ–∑–∏–º–∏–π —á–∞—Å–Ω–∏–∫ —Ç–∞ –∑–µ–ª–µ–Ω—å; –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ “ë—Ä—É–Ω—Ç—É –¥–æ –∑–∏–º–∏.");
                tips.push("üå± –¢–µ–ø–ª–∏—Ü—è: –æ—á–∏—â–µ–Ω–Ω—è –ø—ñ—Å–ª—è –ª—ñ—Ç–Ω—ñ—Ö –∫—É–ª—å—Ç—É—Ä, –≤–∏—Å–∞–¥–∂—É–≤–∞–Ω–Ω—è –æ–∑–∏–º–æ–≥–æ —á–∞—Å–Ω–∏–∫—É, —à–ø–∏–Ω–∞—Ç—É —Ç–∞ —Å–∞–ª–∞—Ç–Ω–æ—ó –∑–µ–ª–µ–Ω—ñ; –º—É–ª—å—á—É–≤–∞–Ω–Ω—è “ë—Ä—É–Ω—Ç—É.");
                tips.push("üå≥ –°–∞–¥: –∑–±—ñ—Ä –ø–ª–æ–¥—ñ–≤, –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –ø–∞–¥–∞–ª–∏—Ü—ñ, –æ–±—Ä—ñ–∑–∫–∞ –ø–ª–æ–¥–æ–≤–∏—Ö –¥–µ—Ä–µ–≤, –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –∑–∏–º–æ–≤–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è, –≤–Ω–µ—Å–µ–Ω–Ω—è –∫–æ–º–ø–æ—Å—Ç—É —Ç–∞ –¥–æ–±—Ä–∏–≤.");
                tips.push("üè° –ü–æ–¥–≤—ñ—Ä‚Äô—è: –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –æ–ø–∞–ª–æ–≥–æ –ª–∏—Å—Ç—è, –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–ª—É–º–± –¥–æ –∑–∏–º–∏, –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –º–æ—Ä–æ–∑—É –Ω—ñ–∂–Ω–∏—Ö —Ä–æ—Å–ª–∏–Ω, —É—Ç–µ–ø–ª–µ–Ω–Ω—è –≤–æ–¥–æ–ø—Ä–æ–≤–æ–¥—É —Ç–∞ —î–º–Ω–æ—Å—Ç–µ–π –¥–ª—è –≤–æ–¥–∏.");
            }

            if (tips.length === 0) {
                tips.push("–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –≤—ñ–¥—Å—É—Ç–Ω—ñ. –°–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–º —ñ —Å—Ç–∞–Ω–æ–º “ë—Ä—É–Ω—Ç—É.");
            }

            return tips.join("<br/>");
        }

        function toggleWeather(lat, lon, elementId, locationName, hasGreenhouse = false) {
            const el = document.getElementById(elementId);

            if (el.style.display === "block") {
                el.style.display = "none";
                return;
            }

            if (weatherCache[elementId]) {
                el.style.display = "block";
                el.innerHTML = weatherCache[elementId];
                return;
            }

            getWeather(lat, lon, elementId, locationName, hasGreenhouse);
        }

        function getWeather(lat, lon, elementId, locationName, hasGreenhouse = false) {
            const currentUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=ua`;
            const forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=ua`;

            Promise.all([
                fetch(currentUrl).then(res => res.json()),
                fetch(forecastUrl).then(res => res.json())
            ])
                .then(([currentData, forecastData]) => {
                    if (currentData.cod !== 200) throw new Error(currentData.message || "–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ—ó –ø–æ–≥–æ–¥–∏");
                    if (forecastData.cod !== "200") throw new Error(forecastData.message || "–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–æ–≥–Ω–æ–∑—É");

                    const temp = currentData.main.temp;
                    const feelsLike = currentData.main.feels_like;
                    const description = currentData.weather[0].description;
                    const icon = currentData.weather[0].icon;
                    const windSpeed = currentData.wind.speed;
                    const windDeg = currentData.wind.deg;
                    const humidity = currentData.main.humidity;
                    const pressure = currentData.main.pressure;
                    const cloudiness = currentData.clouds.all;
                    const visibility = (currentData.visibility / 1000).toFixed(1);
                    const sunrise = new Date(currentData.sys.sunrise * 1000).toLocaleTimeString('uk-UA');
                    const sunset = new Date(currentData.sys.sunset * 1000).toLocaleTimeString('uk-UA');

                    const directions = ["–ü–Ω", "–ü–Ω-–°—Ö", "–°—Ö", "–ü–¥-–°—Ö", "–ü–¥", "–ü–¥-–ó—Ö", "–ó—Ö", "–ü–Ω-–ó—Ö"];
                    const windDir = directions[Math.round(windDeg / 45) % 8];

                    const days = {};
                    forecastData.list.forEach(item => {
                        const date = item.dt_txt.split(' ')[0];
                        if (!days[date]) days[date] = [];
                        days[date].push(item);
                    });

                    let forecastHtml = '';
                    const dates = Object.keys(days).slice(0, 3);
                    dates.forEach(date => {
                        const dayData = days[date];
                        const temps = dayData.map(d => d.main.temp);
                        const minTemp = Math.min(...temps);
                        const maxTemp = Math.max(...temps);
                        const descriptions = dayData.map(d => d.weather[0].description);
                        const descriptionDay = descriptions[0];
                        const iconDay = dayData[0].weather[0].icon;

                        forecastHtml += `
                <div class="forecast-day">
                    <strong>${new Date(date).toLocaleDateString('uk-UA', { weekday: 'long', day: 'numeric', month: 'long' })}</strong><br/>
                    <img class="icon" src="https://openweathermap.org/img/wn/${iconDay}@2x.png" alt="${descriptionDay}">
                    <br/>
                    ${descriptionDay}, ${minTemp.toFixed(1)}¬∞C / ${maxTemp.toFixed(1)}¬∞C
                </div>
            `;
                    });

                    const el = document.getElementById(elementId);
                    const photoHTML = el.querySelector('img').outerHTML;

                    const firstDayDesc = days[dates[0]][0].weather[0].description;
                    const firstDayTemps = days[dates[0]].map(d => d.main.temp);
                    const minT = Math.min(...firstDayTemps);
                    const maxT = Math.max(...firstDayTemps);
                    const rec = getRecommendations(firstDayDesc, minT, maxT, hasGreenhouse);

                    const content = photoHTML + `
            <h3>üìç ${locationName}</h3>
            <p><img class="icon" src="https://openweathermap.org/img/wn/${icon}@2x.png" alt="${description}"> <strong>${description}</strong></p>
            <p>üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${temp.toFixed(1)} ¬∞C (–≤—ñ–¥—á—É–≤–∞—î—Ç—å—Å—è —è–∫ ${feelsLike.toFixed(1)} ¬∞C)</p>
            <p>üí® –í—ñ—Ç–µ—Ä: ${windSpeed} –º/—Å, –Ω–∞–ø—Ä—è–º–æ–∫: ${windDir}</p>
            <p>üíß –í–æ–ª–æ–≥—ñ—Å—Ç—å: ${humidity}%</p>
            <p>üîΩ –¢–∏—Å–∫: ${pressure} –≥–ü–∞</p>
            <p>‚òÅÔ∏è –•–º–∞—Ä–Ω—ñ—Å—Ç—å: ${cloudiness}%</p>
            <p>üëÅÔ∏è –í–∏–¥–∏–º—ñ—Å—Ç—å: ${visibility} –∫–º</p>
            <p>üåû –°—Ö—ñ–¥ —Å–æ–Ω—Ü—è: ${sunrise}, –ó–∞—Ö—ñ–¥ —Å–æ–Ω—Ü—è: ${sunset}</p>
            <p><strong>–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 3 –¥–Ω—ñ:</strong>${forecastHtml}</p>
            <div class="recommendations">
                <strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –≥–æ—Å–ø–æ–¥–∞—Ä—Å—Ç–≤—É:</strong><br/>${rec}
            </div>
        `;

                    el.style.display = "block";
                    el.innerHTML = content;
                    weatherCache[elementId] = content;
                })
                .catch(error => {
                    const el = document.getElementById(elementId);
                    el.style.display = "block";
                    el.innerHTML = "<p>–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –ø–æ–≥–æ–¥–∏ üõë</p>";
                    console.error(error);
                });
        }
    </script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(() => console.log('Service Worker –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ'))
                .catch(err => console.error('–ü–æ–º–∏–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó Service Worker:', err));
        }
    </script>
</body>

</html>